dependencies:
  override:
    - pip install -r requirements/test.txt
  post:
    - sed -i -e "s:{{project_name}}:expademo:g" fabfile.py
database:
  override:
    - createuser -d skeleton
    - createdb skeleton_test
test:
  override:
    - coverage run --source='./project_name/' project_name/manage.py test -v3 
    - pylint -E fabfile.py
  post:
    - coverage html -d $CIRCLE_ARTIFACTS
    - pylint -d R0914,R0913,C0103,W1401,C0301,R0915,W0703,R0912,C0111,C0302,W0511,C0303 -f html fabfile.py > $CIRCLE_ARTIFACTS/pylint.html
